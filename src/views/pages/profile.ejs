<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body class="profile">

    <form action="/edit" method="POST" enctype="multipart/form-data">
        <header id="backgroundSection" style="background-image: url('../uploads/<%= user.memberPfp %>');">
            <section id="gradient">
                <img src="../img/back_button_icon.svg" id="backButton" alt="back button">
                <h1>Profile</h1>
                <img src="../img/edit_icon.svg" alt="edit icon button" id="editIcon">
            </section>
            <section>
                <input type="file" name="memberPfp" id="fileInput" accept="image/*">
            </section>
            <section>
                <input type="text" id="profileBandName" name="bandName" value="<%= user.bandName %>" readonly/>
                <img src="../img/band_icon.svg" alt="band icon">
            </section>
        </header>

        <main>
            <section>
                <label for="profileDescription">Profile Description</label>
                <textarea id="profileDescription" name="description" readonly><%= user.description %></textarea>
            </section>
            
            <div></div>
            
            <section>
                <img src="../img/location_icon.svg" class="imageIcon" alt="location icon">
                <section>
                    <label for="profileLocation">From</label>
                    <input type="text" id="profileCity" name="city" value="<%= user.city %>" readonly/>
                    <input type="text" id="profileCountry" name="country" value="<%= user.country %>" readonly/>   
                </section>      
            </section>

            <section>
                <img src="../img/language_icon.svg" class="imageIcon" alt="language icon">
                <section>
                    <label for="profileLanguage">Language</label>
                    <input type="text" id="profileLanguage" name="language" value="<%= user.language %>" readonly/>
                </section>
            </section>
            
            <section>
                <img src="../img/genre_icon.svg" class="imageIcon" alt="genre icon">
                <section>
                    <label class="checkbox-label">Genre</label>
                    <% const genres = ['blues', 'classical', 'country', 'disco', 'dubstep', 'electro', 'folk', 'funk', 'hip-hop', 
                    'house', 'jazz', 'metal', 'pop', 'punk', 'r&b', 'reggae', 'rock', 'schlager', 'soul', 'techno', 'trance']; %>
                    <% genres.forEach(function(genre) { %>
                        <input class="style-choice-button" type="checkbox" name="genres" value="<%= genre %>"
                        <% if (user.genres.includes(genre)) { %> checked <% } %> />
                        <%= genre %>
                    <% }); %>
                </section>
            </section>
            
            <section>
                <img src="../img/instrument_icon.svg" class="imageIcon" alt="instrument icon">
                <section>
                    <label class="checkbox-label">Instrument</label>
                    <% const instruments = ['Accordion', 'Banjo', 'Bass', 'Bongos', 'Cello', 'Clarinet', 'Congas', 'Drums', 'Djembe', 'Flute', 'Guitar', 
                    'Harmonica', 'Keyboard', 'Maracas', 'Piano', 'Sampler', 'Saxophone', 'Synthesizer', 'Trombone', 'Trumpet', 'Ukelele', 'Violin', 'Voice']; %>
                    <% instruments.forEach(function(instrument) { %>
                      <input class="style-choice-button" type="checkbox" id="userInstruments" name="userInstruments" value="<%= instrument %>" 
                      <% if (user.userInstruments.includes(instrument)) { %> checked <% } %> />
                      <%= instrument %>
                    <% }); %>
                </section>
            </section>
            
            <section>
                <h3>Content</h3>
                <video src="../uploads/<%= user.mediaFile %>" alt="profile picture">
            </section>

            <button type="submit" id="saveButton">Save</button>
        </main>
    </form>

    <footer>
        <nav>
            <ul>
                <li><a href="foryou"><img src="../img/houseWhite_icon.svg" alt="Go to for you page"></a></li>
                <li><a href="profile"><img src="../img/profilePurple_icon.svg" alt="Go to profile page"></a></li>
                <li><a href="settings"><img src="../img/settings.svg" alt="Go to settings page"></a></li>
            </ul>
        </nav>
    </footer>

    <script src="/js/script.js"></script>
  </body>
</html>
